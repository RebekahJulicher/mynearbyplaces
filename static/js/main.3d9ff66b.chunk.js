(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{37:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(30),i=n.n(s),o=(n(37),n(22)),l=n(8),j=n(10),b=n(20),h=n(15),u=n(16),d=n(18),O=n(17),p={username:""},x=n(5),m=n(3),v=n(9),g=n(11),y=n(12),f=function(e){Object(d.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){e.preventDefault(),a.setState({submit:!0})},a.onInputChange=function(e){var t=e.target.value.toUpperCase(),n=e.target.id;a.setState(Object(b.a)({},n,t))},a.logout=function(){a.setState({username:""}),p.username=""},a.state={username:"",city:"",state:"",category:"",submit:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.city,n=e.state,c=e.category;if(!0===e.submit){var r={pathname:"/list",state:{city:t,state:n,category:c}};return Object(a.jsx)(j.a,{to:r})}var s=p.username,i=this.props.location.prevProps,o={};return i&&(o=i.place),Object(a.jsx)(y.a,{children:Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(g.a,{sm:2,children:[s.length>0?Object(a.jsxs)(g.a,{children:[Object(a.jsx)(x.a,{children:p.username}),Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"btn btn-outline-primary btn-sm",onClick:this.logout,children:"Logout"})})]}):Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"btn btn-outline-primary btn-sm",children:Object(a.jsx)(l.b,{to:{pathname:"/login",place:o,from:"/mynearbyplaces"},children:"Login"})})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(l.b,{to:{pathname:"/place",removing:!1},children:"Add a business"})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(l.b,{to:{pathname:"/place",removing:!0},children:"Remove a business"})})]}),Object(a.jsxs)(g.a,{sm:8,children:["Search for local businesses:",Object(a.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(a.jsxs)(m.a.Group,{controlId:"city",children:[Object(a.jsx)(m.a.Label,{children:"City"}),Object(a.jsx)(m.a.Control,{type:"text",value:t,onChange:this.onInputChange,placeholder:"Enter city"})]}),Object(a.jsxs)(m.a.Group,{controlId:"state",children:[Object(a.jsx)(m.a.Label,{children:"State"}),Object(a.jsx)(m.a.Control,{type:"text",value:n,onChange:this.onInputChange,placeholder:"Enter state"})]}),Object(a.jsxs)(m.a.Group,{controlId:"category",children:[Object(a.jsx)(m.a.Label,{children:"Category"}),Object(a.jsx)(m.a.Control,{type:"text",value:c,onChange:this.onInputChange,placeholder:"Enter category"})]}),Object(a.jsx)(v.a,{variant:"primary",type:"submit",children:"Search"})]})]})]})})}}]),n}(r.a.Component),C=function(e){Object(d.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){a.state.username.trim().length>0&&(p.username=a.state.username,a.setState({authenticated:!0})),e.preventDefault()},a.onCancel=function(e){a.setState({authenticated:!0}),e.preventDefault()},a.onInputChange=function(e){var t=e.target.value,n=e.target.id;a.setState(Object(b.a)({},n,t))},a.state={username:"",authenticated:!1},a}return Object(u.a)(n,[{key:"render",value:function(){if("/list"==this.props.location.from){var e={pathname:"/mynearbyplaces",prevProps:this.props.location};if(this.state.authenticated)return Object(a.jsx)(j.a,{to:e})}else{var t={pathname:this.props.location.from,prevProps:this.props.location};if(this.state.authenticated)return Object(a.jsx)(j.a,{to:t})}return Object(a.jsx)(y.a,{children:Object(a.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(a.jsxs)(m.a.Group,{controlId:"username",children:[Object(a.jsx)(m.a.Label,{children:"Username:"}),Object(a.jsx)(m.a.Control,{type:"text",value:this.state.username,onChange:this.onInputChange,placeholder:"Enter username"})]}),Object(a.jsx)(v.a,{variant:"secondary",onClick:this.onCancel,children:"Cancel"}),Object(a.jsx)(v.a,{type:"submit",children:"Login"})]})})}}]),n}(r.a.Component),S=Object(j.g)(C),I=(n(44),[]),w=function(e,t){return e.name===t.name&&e.category===t.category&&e.city===t.city&&e.state===t.state&&e.reviews===t.reviews},L={addPlace:function(e,t,n,a){var c={name:e,category:t,city:n,state:a,reviews:[]};I.push(c)},getAllPlaces:function(){return I},removePlace:function(e,t,n,a){for(var c={name:e,category:t,city:n,state:a},r=0;r<I.length;r++){var s=I[r];w(c,s)&&I.splice(r,1)}},addReview:function(e,t){var n=I.find((function(t){return w(t,e)}));n&&n.reviews.push(t)},updatePlace:function(e,t,n,a,c){for(var r=0;r<I.length;r++){var s=I[r];w(e,s)&&(0!==t.length&&(I[r].name=t),0!==n.length&&(I[r].category=n),0!==a.length&&(I[r].city=a),0!==c.length&&(I[r].state=c))}},search:function(e,t,n){var a=[];return e.length>0&&(a=I.filter((function(t){return t.city===e}))),t.length>0&&(a=e.length>0?a.filter((function(e){return e.state===t})):I.filter((function(e){return e.state===t}))),n.length>0&&(a=e.length>0||t.length>0?a.filter((function(e){return e.category===n})):I.filter((function(e){return e.category===n}))),0===e.length&&0===t.length&&0===n.length?I:a}},k=function(e){Object(d.a)(n,e);var t=Object(O.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).onAddSubmit=function(e){var t=c.state,n=t.name,a=t.category,r=t.city,s=t.state;L.addPlace(n,a,r,s),e.preventDefault(),console.log(L.getAllPlaces()),c.setState({done:!0})},c.onRemoveSubmit=function(e){var t=c.state,n=t.name,a=t.category,r=t.city,s=t.state;L.removePlace(n,a,r,s),e.preventDefault(),console.log(L.getAllPlaces()),c.setState({done:!0})},c.onCancel=function(e){e.preventDefault(),c.setState({done:!0})},c.onInputChange=function(e){var t=e.target.value.toUpperCase(),n=e.target.id;c.setState(Object(b.a)({},n,t))},c.addForm=function(){return Object(a.jsx)(y.a,{children:Object(a.jsx)(x.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(m.a,{onSubmit:c.onAddSubmit,children:[Object(a.jsxs)(m.a.Group,{controlId:"name",children:[Object(a.jsx)(m.a.Label,{children:"Name"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.name,onChange:c.onInputChange,placeholder:"Enter name"})]}),Object(a.jsxs)(m.a.Group,{controlId:"category",children:[Object(a.jsx)(m.a.Label,{children:"Category"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.category,onChange:c.onInputChange,placeholder:"Enter category"})]}),Object(a.jsxs)(m.a.Group,{controlId:"city",children:[Object(a.jsx)(m.a.Label,{children:"City"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.city,onChange:c.onInputChange,placeholder:"Enter city"})]}),Object(a.jsxs)(m.a.Group,{controlId:"state",children:[Object(a.jsx)(m.a.Label,{children:"State"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.state,onChange:c.onInputChange,placeholder:"Enter state"})]}),Object(a.jsx)(v.a,{variant:"secondary",onClick:c.onCancel,children:"Cancel"}),Object(a.jsx)(v.a,{variant:"primary",type:"submit",children:"Add Business"})]})})})})},c.removeForm=function(){return Object(a.jsx)(x.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(m.a,{onSubmit:c.onRemoveSubmit,children:[Object(a.jsxs)(m.a.Group,{controlId:"name",children:[Object(a.jsx)(m.a.Label,{children:"Name"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.name,onChange:c.onInputChange,placeholder:"Enter name"})]}),Object(a.jsxs)(m.a.Group,{controlId:"category",children:[Object(a.jsx)(m.a.Label,{children:"Category"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.category,onChange:c.onInputChange,placeholder:"Enter category"})]}),Object(a.jsxs)(m.a.Group,{controlId:"city",children:[Object(a.jsx)(m.a.Label,{children:"City"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.city,onChange:c.onInputChange,placeholder:"Enter city"})]}),Object(a.jsxs)(m.a.Group,{controlId:"state",children:[Object(a.jsx)(m.a.Label,{children:"State"}),Object(a.jsx)(m.a.Control,{type:"text",value:c.state.state,onChange:c.onInputChange,placeholder:"Enter state"})]}),Object(a.jsx)(v.a,{variant:"secondary",onClick:c.onCancel,children:"Cancel"}),Object(a.jsx)(v.a,{variant:"primary",type:"submit",children:"Remove Business"})]})})})},c.state={name:"",category:"",city:"",state:"",done:!1},c}return Object(u.a)(n,[{key:"render",value:function(){return this.state.done?Object(a.jsx)(j.a,{to:{pathname:"/mynearbyplaces"}}):Object(a.jsx)(y.a,{children:!1===this.props.location.removing?this.addForm():this.removeForm()})}}]),n}(r.a.Component),P=function(e){Object(d.a)(n,e);var t=Object(O.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).logout=function(){c.setState({username:""}),p.username=""},c.body=function(){var e=c.props.location.prevProps,t={};return e&&(t=e.place),Object(a.jsx)(y.a,{children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(g.a,{sm:2,children:p.username.length>0?Object(a.jsxs)(g.a,{children:[Object(a.jsx)(x.a,{children:p.username}),Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"btn btn-outline-primary btn-sm",onClick:c.logout,children:"Logout"})})]}):Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"btn btn-outline-primary btn-sm",children:Object(a.jsx)(l.b,{to:{pathname:"/login",place:t,from:"/list"},children:"Login"})})})}),c.state.places.length>0?Object(a.jsxs)(g.a,{sm:8,children:[c.state.places.map((function(e,t){return Object(a.jsx)(x.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(l.b,{className:"storeLink",to:{pathname:"/reviews",prevProps:{place:e}},children:Object(a.jsxs)(v.a,{variant:"outline-secondary",size:"lg",block:!0,children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("b",{children:e.name})}),Object(a.jsxs)(x.a,{children:[e.city,", ",e.state]}),Object(a.jsx)(x.a,{children:e.category})]})})})},t)})),Object(a.jsx)(x.a,{children:Object(a.jsx)(l.b,{to:{pathname:"/place",removing:!1},children:"Add a business"})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(l.b,{to:{pathname:"/place",removing:!0},children:"Remove a business"})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"outline-warning",size:"small",children:Object(a.jsx)(l.b,{to:"/mynearbyplaces",children:"Back to search"})})})]}):Object(a.jsxs)(g.a,{sm:8,children:[Object(a.jsx)(x.a,{children:"No businesses found matching that criteria."}),Object(a.jsx)(x.a,{children:Object(a.jsx)(l.b,{to:{pathname:"/place",removing:!1},children:"Add a business"})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(l.b,{to:{pathname:"/place",removing:!0},children:"Remove a business"})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"outline-warning",size:"small",children:Object(a.jsx)(l.b,{to:"/mynearbyplaces",children:"Back to search"})})})]})]})})},c.state={places:[]},c}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.state,t=e.city,n=e.state,a=e.category,c=L.search(t,n,a);this.setState({places:c})}},{key:"render",value:function(){return this.body()}}]),n}(r.a.Component),E=function(e){Object(d.a)(n,e);var t=Object(O.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).logout=function(){c.setState({username:""}),p.username=""},c.body=function(){var e=c.props.location.prevProps,t={};return e&&(t=e.place),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(g.a,{sm:2,children:p.username.length>0?Object(a.jsxs)(g.a,{children:[Object(a.jsx)(x.a,{children:p.username}),Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"btn btn-outline-primary btn-sm",onClick:c.logout,children:"Logout"})})]}):Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"btn btn-outline-primary btn-sm",children:Object(a.jsx)(l.b,{to:{pathname:"/login",place:t,from:"/reviews"},children:"Login"})})})}),t.reviews.length>0?Object(a.jsxs)(g.a,{sm:8,children:[t.reviews.map((function(e,t){return Object(a.jsxs)(g.a,{children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("b",{children:e.stars+"/5 stars     - "+e.user})}),Object(a.jsx)(x.a,{children:e.content})]},t)})),p.username.length>0?Object(a.jsx)(l.b,{to:{pathname:"/newreview",place:t,from:"/reviews"},children:"Create a new review"}):Object(a.jsx)(x.a,{children:"Log in to post a review"}),Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"outline-warning",size:"small",children:Object(a.jsx)(l.b,{to:"/mynearbyplaces",children:"Back to search"})})})]}):Object(a.jsxs)(g.a,{sm:8,children:[Object(a.jsx)(x.a,{children:"No reviews found for this business"}),p.username.length>0?Object(a.jsx)(x.a,{children:Object(a.jsx)(l.b,{to:{pathname:"/newreview",place:t,from:"/reviews"},children:"Be the first"})}):Object(a.jsx)(x.a,{children:"Log in to post a review"}),Object(a.jsx)(x.a,{children:Object(a.jsx)(v.a,{variant:"outline-warning",size:"small",children:Object(a.jsx)(l.b,{to:"/mynearbyplaces",children:"Back to search"})})})]})]})},c}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(y.a,{children:this.body()})}}]),n}(r.a.Component),G=function(e){Object(d.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.stars,c=t.content;L.addReview(a.props.location.place,{stars:n,content:c,user:p.username}),e.preventDefault(),a.setState({done:!0})},a.onCancel=function(e){e.preventDefault(),a.setState({done:!0})},a.onInputChange=function(e){var t=e.target.value,n=e.target.id;a.setState(Object(b.a)({},n,t))},a.state={stars:0,content:"",done:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e={pathname:this.props.location.from,prevProps:this.props.location};return this.state.done?Object(a.jsx)(j.a,{to:e}):Object(a.jsx)(y.a,{children:Object(a.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(a.jsxs)(m.a.Group,{controlId:"stars",children:[Object(a.jsx)(m.a.Label,{children:"Stars:"}),Object(a.jsxs)(m.a.Control,{as:"select",onChange:this.onInputChange,children:[Object(a.jsx)("option",{value:1,children:"1"}),Object(a.jsx)("option",{value:2,children:"2"}),Object(a.jsx)("option",{value:3,children:"3"}),Object(a.jsx)("option",{value:4,children:"4"}),Object(a.jsx)("option",{value:5,children:"5"})]})]}),Object(a.jsxs)(m.a.Group,{controlId:"content",children:[Object(a.jsx)(m.a.Label,{children:"Review:"}),Object(a.jsx)(m.a.Control,{type:"text",value:this.state.content,onChange:this.onInputChange,placeholder:"Enter content"})]}),Object(a.jsx)(v.a,{variant:"secondary",onClick:this.onCancel,children:"Cancel"}),Object(a.jsx)(v.a,{type:"submit",children:"Submit"})]})})}}]),n}(r.a.Component);n(45);var D=function(){return Object(a.jsx)(l.a,{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/mynearbyplaces/",render:function(e){return Object(a.jsx)(f,Object(o.a)({},e))}}),Object(a.jsx)(j.b,{path:"/login",render:function(e){return Object(a.jsx)(S,Object(o.a)({},e))}}),Object(a.jsx)(j.b,{path:"/place",render:function(e){return Object(a.jsx)(k,Object(o.a)({},e))}}),Object(a.jsx)(j.b,{path:"/list",render:function(e){return Object(a.jsx)(P,Object(o.a)({},e))}}),Object(a.jsx)(j.b,{path:"/reviews",render:function(e){return Object(a.jsx)(E,Object(o.a)({},e))}}),Object(a.jsx)(j.b,{path:"/newreview",render:function(e){return Object(a.jsx)(G,Object(o.a)({},e))}})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root")),A()}},[[46,1,2]]]);
//# sourceMappingURL=main.3d9ff66b.chunk.js.map